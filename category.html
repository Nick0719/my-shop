<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>分類列表 - 手機通用版</title>
    <style>
        body { font-family: "Microsoft JhengHei", Arial; background: #f8f8f8; margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: auto; }
        .back-link { display: inline-block; margin-bottom: 20px; color: #007bff; text-decoration: none; font-weight: bold; }
        
        /* 手機版網格：每排 2 個 */
        .grid { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 15px; 
        }
        /* 電腦版網格：每排 4 個 */
        @media (min-width: 768px) { .grid { grid-template-columns: repeat(4, 1fr); gap: 25px; } }

        .item-card { background: white; padding: 10px; text-align: center; border-radius: 8px; border: 1px solid #eee; cursor: pointer; }
        .item-card img { width: 100%; height: 150px; object-fit: cover; border-radius: 5px; }
        @media (min-width: 768px) { .item-card img { height: 200px; } }
        
        .price { color: #d9534f; font-size: 18px; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">← 返回首頁</a>
        <h1 id="categoryTitle" style="font-size: 24px;">載入中...</h1>
        <div class="grid" id="productList"></div>
    </div>

    <script src="products.js"></script>
    <script>
        const params = new URLSearchParams(window.location.search);
        const catName = params.get('name') || "電子產品";
        document.getElementById('categoryTitle').innerText = `分類：${catName}`;

        const grid = document.getElementById('productList');
        const filtered = allProducts.filter(p => p.category === catName);
        grid.innerHTML = filtered.map(p => `
            <div class="item-card" onclick="window.open('product.html?id=${p.id}', '_blank')">
                <img src="${p.image}">
                <div style="font-weight:bold; margin-top:10px; height:36px; overflow:hidden;">${p.name}</div>
                <div class="price">$ ${p.price.toLocaleString()}</div>
            </div>
        `).join('');
    </script>
</body>
</html>
